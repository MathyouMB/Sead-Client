(this.webpackJsonpsead=this.webpackJsonpsead||[]).push([[0],{39:function(e,t,n){e.exports=n(63)},44:function(e,t,n){},45:function(e,t,n){},49:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),o=n.n(c),l=(n(44),n(4)),i=(n(45),n(18)),s=n(19);function u(){var e=Object(i.a)(["\nmutation($userId: ID!, $title: String!, $text: String!){\n  createNote(\n    userId: $userId\n    title: $title,\n    text: $text\n  ){\n    id\n    title\n    text\n  }\n}\n"]);return u=function(){return e},e}function p(){var e=Object(i.a)(["\nquery login($email: String!, $password: String!){\n  login(email: $email, password: $password) {\n    id\n    username\n    email\n    notes{\n      id\n      title\n      text\n    }\n  }\n}\n"]);return p=function(){return e},e}function m(){var e=Object(i.a)(["\nquery note($id: ID!){\n  note(id: $id) {\n    id\n    title\n    text\n  }\n}\n"]);return m=function(){return e},e}function d(){var e=Object(i.a)(["\nquery user($id: ID!){\n  user(id: $id) {\n    id\n    username\n    email\n    notes{\n      id\n      title\n      text\n    }\n  }\n}\n"]);return d=function(){return e},e}function b(){var e=Object(i.a)(["\n{\n    users{\n      id\n      username\n      email\n      notes{\n        id\n        title\n        text\n      }\n    }\n  }\n"]);return b=function(){return e},e}Object(s.a)(b());var g=Object(s.a)(d()),f=Object(s.a)(m()),v=Object(s.a)(p()),E=Object(s.a)(u()),h=n(14),j=n(17),O=n(10),x=n.n(O),w=n(15),N=n(8),y=n(9),k=n(7),I=(n(49),function(e){var t,n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),u=Object(l.a)(s,2),p=u[0],m=u[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),g=b[0],f=b[1],E=Object(y.b)({uri:"https://sead-rails.herokuapp.com/graphql",headers:{"Content-Type":"application/json"}}),h=new N.a({link:E,cache:new k.a}),O=function(){var e=Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=o&&""!=p){e.next=4;break}f(!0),e.next=8;break;case 4:return e.next=6,h.query({query:v,variables:{email:o,password:p}});case 6:t=e.sent,I(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var t=Object(w.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==(a=n.data.login)?(console.log(n.data.login.id),e.setUserID(a.id)):(m(""),f(!0));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,function(){if(console.log(e.id),-1!=e.userID)return r.a.createElement(j.a,{to:"/notes"})}(),r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-page-container"},r.a.createElement("div",{className:"login-page-container-inner"},r.a.createElement("input",{className:"login-page-input",type:"text",placeholder:"Email",value:o,onChange:function(e){i(e.target.value)}}),r.a.createElement("input",{className:"login-page-input",type:"text",placeholder:"Password",value:p,onChange:function(e){m(e.target.value)}}),r.a.createElement("input",{className:"login-page-button",type:"button",value:"Login",onClick:function(){console.log(o),console.log(p),O()}})))),(t="Invalid Login",g?r.a.createElement("div",{className:"error-dialog"},r.a.createElement("p",null,t)):r.a.createElement(r.a.Fragment,null)))}),S=(n(57),function(e){var t;return r.a.createElement("div",{className:"note hvr-float"},r.a.createElement("div",{className:"note-container"},r.a.createElement("span",{className:"note-title"},r.a.createElement("h1",null,e.title)),r.a.createElement("p",{className:"note-paragraph"},(t=e.text).length>310?t.slice(0,310)+"...":t),r.a.createElement(h.b,{to:"/read?id="+e.id},r.a.createElement("input",{className:"note-button",type:"button",value:"Read"}))))}),q=(n(58),function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!0),s=Object(l.a)(i,2),u=s[0],p=s[1],m=Object(y.b)({uri:"https://sead-rails.herokuapp.com/graphql",headers:{"Content-Type":"application/json"}}),d=new N.a({link:m,cache:new k.a}),b=function(){var t=Object(w.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.query({query:g,variables:{id:e.userID}});case 2:n=t.sent,console.log(n),console.log(n.data.user.notes),o(n.data.user.notes.reverse()),p(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){u&&-1!=e.userID&&b()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notes-page"},r.a.createElement("div",{className:"note-wrapper"},u?"Loading...":c.map((function(e){return r.a.createElement(S,{id:e.id,title:e.title,text:e.text})})),r.a.createElement(h.b,{to:"/create/"},r.a.createElement("input",{className:"note-page-button",type:"button",value:"Add Note"})))))}),C=(n(59),function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),u=(s[0],s[1]),p=Object(a.useState)([]),m=Object(l.a)(p,2),d=m[0],b=m[1],g=Object(a.useState)(!0),v=Object(l.a)(g,2),E=v[0],h=v[1],j=Object(y.b)({uri:"https://sead-rails.herokuapp.com/graphql",headers:{"Content-Type":"application/json"}}),O=new N.a({link:j,cache:new k.a});Object(a.useEffect)((function(){E&&I()}));var I=function(){var e=Object(w.a)(x.a.mark((function e(){var t,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("id"),e.next=4,O.query({query:f,variables:{id:n}});case 4:a=e.sent,console.log(a),u(a.data.note),b(S(a.data.note.text)),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){return console.log(e.split(".")),e.split(".")};return r.a.createElement("div",{className:"read-page"},r.a.createElement("div",{className:"read-page-container"},E?"Loading...":r.a.createElement("span",{className:"read-page-text"},d[c]+".")),r.a.createElement("div",{className:"read-page-buttons"},r.a.createElement("input",{className:"read-button",type:"button",value:"Backward",onClick:function(){console.log(c),c>0&&o(c-1)}}),r.a.createElement("input",{className:"read-button",type:"button",value:"Forward",onClick:function(){console.log(c),console.log(c+":"+d.length),c+1<d.length-1&&o(c+1)}})))}),$=(n(60),function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),u=s[0],p=s[1],m=Object(a.useState)(!1),d=Object(l.a)(m,2),b=d[0],g=d[1],f=Object(a.useState)(!1),v=Object(l.a)(f,2),h=v[0],O=v[1],I=Object(y.b)({uri:"https://sead-rails.herokuapp.com/graphql",headers:{"Content-Type":"application/json"}}),S=new N.a({link:I,cache:new k.a}),q=function(){var t=Object(w.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=c&&""!=u){t.next=4;break}O(!0),t.next=9;break;case 4:return t.next=6,S.mutate({mutation:E,variables:{userId:e.userID,title:c,text:u}});case 6:n=t.sent,g(!0),console.log(n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,-1==e.userID?r.a.createElement(j.a,{to:"/login"}):b?r.a.createElement(j.a,{to:"/notes"}):void 0,r.a.createElement("div",{className:"create-note-page"},r.a.createElement("div",{className:"create-note-page-container"},r.a.createElement("div",{className:"create-note-page-container-inner"},r.a.createElement("input",{className:"create-note-page-input",type:"text",placeholder:"Title",value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement("textarea",{className:"create-note-page-input",id:"create-note-page-text",type:"text",placeholder:"Text",value:u,onChange:function(e){p(e.target.value)}}),r.a.createElement("input",{className:"create-note-page-button",type:"button",value:"Add",onClick:function(){console.log(c),console.log(u),q()}})))),function(e){return h?r.a.createElement("div",{className:"error-dialog"},r.a.createElement("p",null,e)):r.a.createElement(r.a.Fragment,null)}("Invalid Entry"))}),D=(n(61),function(){return r.a.createElement("div",{className:"header"},r.a.createElement(h.b,{to:"/notes/"},r.a.createElement("img",{className:"header-logo",src:"https://i.imgur.com/ZrBzEFC.png"})))}),F=function(e){var t=Object(a.useState)(-1),n=Object(l.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{className:"app"},r.a.createElement(h.a,null,-1!=c?"":r.a.createElement(j.a,{to:"/login/"}),r.a.createElement(D,null),r.a.createElement(j.b,{path:"/login",component:function(){return r.a.createElement(I,{userID:c,setUserID:o})}}),r.a.createElement(j.b,{path:"/create",component:function(){return r.a.createElement($,{userID:c})}}),r.a.createElement(j.b,{path:"/notes",component:function(){return r.a.createElement(q,{userID:c})}}),r.a.createElement(j.b,{path:"/read",component:C})))},T=n(64),L=Object(y.b)({uri:"https://sead-rails.herokuapp.com/graphql",headers:{"Content-Type":"application/json"}}),B=new N.a({link:L,cache:new k.a});o.a.render(r.a.createElement(T.a,{client:B},r.a.createElement(F,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.dd5f792d.chunk.js.map